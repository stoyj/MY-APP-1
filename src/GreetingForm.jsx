import { useState } from "react";

function GreetingForm() {
  const [name, setName] = useState("");
  const [greeting, setGreeting] = useState("");
  const [error, setError] = useState(""); // ‚úÖ –Ω–æ–≤ state –∑–∞ –≥—Ä–µ—à–∫–∏

  const handleChange = (event) => {
    setName(event.target.value);
    setError(""); // –∏–∑—á–∏—Å—Ç–≤–∞–º–µ –≥—Ä–µ—à–∫–∞—Ç–∞, –∞–∫–æ –ø–æ—Ç—Ä–µ–±–∏—Ç–µ–ª—è—Ç –∑–∞–ø–æ—á–Ω–µ –¥–∞ –ø–∏—à–µ
  };

  const handleSubmit = (event) => {
    event.preventDefault();

    // üîé –ü—Ä–æ–≤–µ—Ä—è–≤–∞–º–µ –¥–∞–ª–∏ –ø–æ–ª–µ—Ç–æ –µ –ø—Ä–∞–∑–Ω–æ
    if (name.trim() === "") {
      setError("‚ö†Ô∏è –ú–æ–ª—è, –≤—ä–≤–µ–¥–∏ –∏–º–µ!");
      return; // —Å–ø–∏—Ä–∞–º–µ –∏–∑–ø—Ä–∞—â–∞–Ω–µ—Ç–æ
    }

    // –ê–∫–æ –≤—Å–∏—á–∫–æ –µ –Ω–∞—Ä–µ–¥
    setGreeting(`–ó–¥—Ä–∞–≤–µ–π, ${name}! üëã`);
    setName("");
  };

  return (
    <div style={{ textAlign: "center", marginTop: "20px" }}>
      <h1>–ü–æ–∑–¥—Ä–∞–≤–∏ –Ω—è–∫–æ–≥–æ üëá</h1>
      <form onSubmit={handleSubmit}>
        <input
          type="text"
          placeholder="–í—ä–≤–µ–¥–∏ –∏–º–µ..."
          value={name}
          onChange={handleChange}
          style={{ padding: "8px", fontSize: "16px" }}
        />
        <button
          type="submit"
          style={{
            padding: "8px 16px",
            marginLeft: "10px",
            fontSize: "16px",
            cursor: "pointer",
          }}
        >
          –ü–æ–∑–¥—Ä–∞–≤–∏
        </button>
      </form>

      {/* –ü–æ–∫–∞–∑–≤–∞–º–µ –≥—Ä–µ—à–∫–∞ –∞–∫–æ –∏–º–∞ */}
      {error && <p style={{ color: "red", marginTop: "10px" }}>{error}</p>}

      {/* –ü–æ–∫–∞–∑–≤–∞–º–µ –ø–æ–∑–¥—Ä–∞–≤ –∞–∫–æ –∏–º–∞ */}
      {greeting && (
        <p style={{ marginTop: "20px", fontSize: "18px" }}>{greeting}</p>
      )}
    </div>
  );
}

export default GreetingForm;
//üí° –ö–∞–∫–≤–æ –ø—Ä–∞–≤–∏–º —Ç—É–∫:
// useState('') ‚Äì –∑–∞ name (—Ç–µ–∫—É—â —Ç–µ–∫—Å—Ç) –∏ greeting (–ø–æ–∑–¥—Ä–∞–≤).
// onChange ‚Üí –æ–±–Ω–æ–≤—è–≤–∞ name –ø—Ä–∏ –≤—Å—è–∫–∞ –±—É–∫–≤–∞.
// onSubmit ‚Üí –ø—Ä–∏ –∫–ª–∏–∫ –Ω–∞ –±—É—Ç–æ–Ω–∞ —Å–µ —Å—ä–∑–¥–∞–≤–∞ —Å—ä–æ–±—â–µ–Ω–∏–µ –∏ —Å–µ –∑–∞–ø–∏—Å–≤–∞ –≤ greeting.
// {greeting && (...)} ‚Üí –ø–æ–∫–∞–∑–≤–∞–º–µ –ø–∞—Ä–∞–≥—Ä–∞—Ñ–∞ —Å–∞–º–æ –∞–∫–æ –∏–º–∞ —Ç–µ–∫—Å—Ç.

//üí° –ö–∞–∫–≤–æ –¥–æ–±–∞–≤–∏—Ö–º–µ:
// 1.error state ‚Äì –ø–∞–∑–∏ —Ç–µ–∫—Å—Ç–∞ –Ω–∞ –≥—Ä–µ—à–∫–∞—Ç–∞.
// 2.–ü—Ä–æ–≤–µ—Ä–∫–∞ if (name.trim() === '') .trim() –º–∞—Ö–∞ –ø—Ä–∞–∑–Ω–∏ –∏–Ω—Ç–µ—Ä–≤–∞–ª–∏. –ê–∫–æ –∏–º–µ—Ç–æ –µ –ø—Ä–∞–∑–Ω–æ ‚Üí –ø–æ–∫–∞–∑–≤–∞–º–µ –≥—Ä–µ—à–∫–∞ –∏ —Å–ø–∏—Ä–∞–º–µ –∏–∑–ø—Ä–∞—â–∞–Ω–µ—Ç–æ.
// 3.setError('') –≤ handleChange. –ü—Ä–∏ –≤—Å—è–∫–æ –ø–∏—Å–∞–Ω–µ –∏–∑—á–∏—Å—Ç–≤–∞–º–µ —Å—Ç–∞—Ä–æ—Ç–æ —Å—ä–æ–±—â–µ–Ω–∏–µ –∑–∞ –≥—Ä–µ—à–∫–∞.

// üü¢ 2Ô∏è‚É£ –¢–µ—Å—Ç–≤–∞–π
// ‚úÖ –ê–∫–æ –Ω–∞—Ç–∏—Å–Ω–µ—à –ü–æ–∑–¥—Ä–∞–≤–∏ —Å –ø—Ä–∞–∑–Ω–æ –ø–æ–ª–µ ‚Üí —â–µ —Å–µ –ø–æ–∫–∞–∂–µ —á–µ—Ä–≤–µ–Ω–æ —Å—ä–æ–±—â–µ–Ω–∏–µ: ‚ö†Ô∏è –ú–æ–ª—è, –≤—ä–≤–µ–¥–∏ –∏–º–µ!
// ‚úÖ –ê–∫–æ –Ω–∞–ø–∏—à–µ—à –∏–º–µ ‚Üí —â–µ –≤–∏–¥–∏—à –ø–æ–∑–¥—Ä–∞–≤ –∏ –ø–æ–ª–µ—Ç–æ —â–µ —Å–µ –∏–∑—á–∏—Å—Ç–∏.
